<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>BomberZueira Arena 1.0</title>
<style>
body{margin:0;background:linear-gradient(180deg,#0a0f1e,#111);color:white;font-family:Segoe UI,sans-serif;text-align:center;}
h1{margin-top:15px;}
.topbar{display:flex;justify-content:center;gap:20px;font-weight:bold;margin:10px;}
button{padding:10px 18px;border-radius:8px;border:none;background:#ffd700;font-weight:bold;cursor:pointer;margin:5px;}
.grid{display:grid;grid-template-columns:repeat(13,40px);gap:4px;justify-content:center;margin-top:15px;}
.cell{width:40px;height:40px;border-radius:6px;display:flex;align-items:center;justify-content:center;font-size:20px;}
.wall{background:#5a4a3a}
.block{background:#8a6f3a}
.empty{background:#1e2f4f}
.explosion{background:#ff3c00}
footer{margin-top:20px;font-size:12px;opacity:0.6;}
</style>
</head>
<body>
<h1>üî• BomberZueira Arena 1.0</h1>
<div class="topbar">
<div>‚ù§Ô∏è Vida: <span id="life">3</span></div>
<div>‚≠ê Pontos: <span id="score">0</span></div>
</div>
<button onclick="startGame()">Come√ßar Jogo</button>
<div class="grid" id="grid"></div>
<footer>Use as setas para mover | Espa√ßo para bomba</footer>
<script>
const SIZE=13;
let grid=[],player,enemies=[],bombs=[],explosions=[],score=0,life=3,gameRunning=false;

function startGame(){
score=0;life=3;
document.getElementById("score").innerText=score;
document.getElementById("life").innerText=life;
initMap();
player={x:1,y:1,emoji:"üòé"};
enemies=[{x:11,y:11,emoji:"üëπ"},{x:11,y:1,emoji:"ü§°"},{x:1,y:11,emoji:"üëª"}];
gameRunning=true;draw();gameLoop();
}

function initMap(){
grid=[];
for(let y=0;y<SIZE;y++){
grid[y]=[];
for(let x=0;x<SIZE;x++){
if(x===0||y===0||x===SIZE-1||y===SIZE-1||(x%2===0&&y%2===0)){grid[y][x]="wall";}
else if(Math.random()<0.35 && !(x<=2&&y<=2)){grid[y][x]="block";}
else{grid[y][x]="empty";}
}}}

function draw(){
const g=document.getElementById("grid");
g.innerHTML="";
for(let y=0;y<SIZE;y++){
for(let x=0;x<SIZE;x++){
const c=document.createElement("div");
c.className="cell "+grid[y][x];
bombs.forEach(b=>{if(b.x===x&&b.y===y)c.innerText="üí£";});
explosions.forEach(e=>{if(e.x===x&&e.y===y){c.className="cell explosion";c.innerText="üî•";}});
if(player && player.x===x&&player.y===y)c.innerText=player.emoji;
enemies.forEach(e=>{if(e.x===x&&e.y===y)c.innerText=e.emoji;});
g.appendChild(c);
}}}

document.addEventListener("keydown",e=>{
if(!gameRunning)return;
let nx=player.x,ny=player.y;
if(e.key==="ArrowUp")ny--;
if(e.key==="ArrowDown")ny++;
if(e.key==="ArrowLeft")nx--;
if(e.key==="ArrowRight")nx++;
if(e.key===" "){placeBomb();return;}
if(grid[ny]&&grid[ny][nx]==="empty"){player.x=nx;player.y=ny;}
draw();
});

function moveEnemies(){
enemies.forEach(e=>{
const dirs=[[1,0],[-1,0],[0,1],[0,-1]];
const d=dirs[Math.floor(Math.random()*dirs.length)];
const nx=e.x+d[0],ny=e.y+d[1];
if(grid[ny]&&grid[ny][nx]==="empty"){e.x=nx;e.y=ny;}
if(e.x===player.x&&e.y===player.y){
life--;document.getElementById("life").innerText=life;
if(life<=0){alert("üíÄ Game Over! Pontua√ß√£o: "+score);gameRunning=false;}
}});
}

function placeBomb(){bombs.push({x:player.x,y:player.y});setTimeout(explodeBomb,1500);}

function explodeBomb(){
const b=bombs.shift();if(!b)return;
const cells=[{x:b.x,y:b.y}];
[[1,0],[-1,0],[0,1],[0,-1]].forEach(d=>{
const nx=b.x+d[0],ny=b.y+d[1];
if(grid[ny]&&grid[ny][nx]!=="wall"){cells.push({x:nx,y:ny});}
});
cells.forEach(c=>{
if(grid[c.y][c.x]==="block"){grid[c.y][c.x]="empty";score+=10;}
enemies=enemies.filter(e=>{if(e.x===c.x&&e.y===c.y){score+=50;return false;}return true;});
explosions.push(c);
});
document.getElementById("score").innerText=score;
draw();
setTimeout(()=>{explosions=[];draw();},400);
}

function gameLoop(){
const loop=setInterval(()=>{
if(!gameRunning){clearInterval(loop);return;}
moveEnemies();draw();
},600);
}
</script>
</body>
</html>
